# Electronics Store

Проект **Electronics Store** представляет собой DRF бэкэнд-приложение для создания и администрирования сети по продаже электроники.

Сеть - это иерархическая структура из 3 уровней (0 - Производитель, 1 - Контрагент, 2 - Покупатель), по которым распределены её объекты. 

По умолчанию сеть дозволяет существование только одного производителя (объекта с уровнем 0), остальные - не ограничены количеством, но каждое звено сети ссылается только на одного поставщика оборудования (предыдущего по иерархии). 

Приложение создано с использованием Django DRF, для контейнеризации используется Docker, Docker compose.

<h2>Основные функции:</h2>
<ol>
  <li>Регистрация и авторизация, редактирование профилей пользователей. Допуск к API открыт только авторизованным пользователям с признаками is_stuff, is_active</li>
  <li>CRUD объектов сети (model NetworkNode), включая возможность одновременного создания контактов (model Contacts) и просмотра объектов с фильтрацией по стране.</li>
  <li>CRUD объектов сети, контактов и продуктов через админ-панель, включая фильтрацию объектов сети по городу и стране.</li>
  <li>Admin-action для объекта сети - обнуляет задолжность выделенных объектов перед поставщиками.</li>
</ol>

## Функционал валидаторов (учтен для админ. панели)

- **Проверка уникальности**: Проверка уникальности поля `purchase_level` для поставщиков.
- **Обязательные поля**: Проверка наличия обязательных полей при создании или редактировании объектов.
- **Пользовательские валидаторы**: исполнение правил иерархии сети при создании или обновлении полей purchase_level и supplier, ограничение возможности обновления поля debt через API, контроль данных для поля debt.


## Установка и запуск

<h2>Запуск проекта локально через Docker Compose:</h2>
<ol>
  <li>Клонируйте репозиторий проекта</li>
  <li>Скопируйте файл <code>.env.sample</code> в корневую директорию и переименуйте его в <code>.env</code>:</li>
  <li>Отредактируйте файл <code>.env</code> и задайте необходимые переменные окружения(по умолчанию имя контейнера БД=electronics_db).</li>
  <li>Запустите контейнеры Docker с помощью команды:
    <pre>docker-compose up -d --build</pre>
  </li>
  <li>Указанная вами в .env БД будет предзаполнена необходимыми данными из фикстуры, включая данные тестовых пользователей и поставщиков.</li> 
  <li>Залогиньтесь под пользователем admin или active_user, и протестируйте работу приложения через админ-панель или API в соответствии с приложенной коллекцией эндпойнтов: Electronics Store.postman_collection.json</li>
</ol>
